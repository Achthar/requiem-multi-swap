{"compiler":{"version":"0.8.16+commit.abaa5c0e"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"reserve0","type":"uint256"},{"internalType":"uint256","name":"reserve1","type":"uint256"},{"internalType":"uint256","name":"balance0Adjusted","type":"uint256"},{"internalType":"uint256","name":"balance1Adjusted","type":"uint256"},{"internalType":"uint32","name":"tokenWeight0","type":"uint32"}],"name":"ensureConstantValue","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"reserveIn","type":"uint256"},{"internalType":"uint256","name":"reserveOut","type":"uint256"},{"internalType":"uint32","name":"tokenWeightIn","type":"uint32"},{"internalType":"uint32","name":"tokenWeightOut","type":"uint32"},{"internalType":"uint32","name":"swapFee","type":"uint32"}],"name":"getAmountIn","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"reserveIn","type":"uint256"},{"internalType":"uint256","name":"reserveOut","type":"uint256"},{"internalType":"uint32","name":"tokenWeightIn","type":"uint32"},{"internalType":"uint32","name":"tokenWeightOut","type":"uint32"},{"internalType":"uint32","name":"swapFee","type":"uint32"}],"name":"getAmountOut","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getAmountsIn","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getAmountsOut","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"factory","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getFactoryAmountsIn","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"factory","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getFactoryAmountsOut","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"factory","type":"address"},{"internalType":"address","name":"pair","type":"address"}],"name":"getFactoryPairData","outputs":[{"internalType":"address","name":"token0","type":"address"},{"internalType":"address","name":"token1","type":"address"},{"internalType":"uint32","name":"tokenWeight0","type":"uint32"},{"internalType":"uint32","name":"tokenWeight1","type":"uint32"},{"internalType":"uint32","name":"swapFee","type":"uint32"},{"components":[{"internalType":"uint256","name":"reserve0","type":"uint256"},{"internalType":"uint256","name":"reserve1","type":"uint256"},{"internalType":"uint256","name":"vReserve0","type":"uint256"},{"internalType":"uint256","name":"vReserve1","type":"uint256"}],"internalType":"struct IWeightedPair.ReserveData","name":"reserveData","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"factory","type":"address"},{"internalType":"address","name":"pair","type":"address"},{"internalType":"address","name":"tokenA","type":"address"}],"name":"getFactoryParameters","outputs":[{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"reserveA","type":"uint256"},{"internalType":"uint256","name":"reserveB","type":"uint256"},{"internalType":"uint32","name":"tokenWeightA","type":"uint32"},{"internalType":"uint32","name":"tokenWeightB","type":"uint32"},{"internalType":"uint32","name":"swapFee","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"factory","type":"address"},{"internalType":"address","name":"pair","type":"address"}],"name":"getFactoryStaticData","outputs":[{"internalType":"uint32","name":"tokenWeight0","type":"uint32"},{"internalType":"uint32","name":"tokenWeight1","type":"uint32"},{"internalType":"uint32","name":"swapFee","type":"uint32"},{"internalType":"uint32","name":"amp","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pair","type":"address"},{"internalType":"address","name":"tokenA","type":"address"}],"name":"getOtherToken","outputs":[{"internalType":"address","name":"tokenB","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pair","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"amountOut","type":"uint256"}],"name":"getPairAmountIn","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pair","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"}],"name":"getPairAmountOut","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pair","type":"address"},{"internalType":"address","name":"tokenA","type":"address"}],"name":"getPairParameters","outputs":[{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"reserveA","type":"uint256"},{"internalType":"uint256","name":"reserveB","type":"uint256"},{"internalType":"uint32","name":"tokenWeightA","type":"uint32"},{"internalType":"uint32","name":"tokenWeightB","type":"uint32"},{"internalType":"uint32","name":"swapFee","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pair","type":"address"}],"name":"getPairStaticData","outputs":[{"internalType":"uint32","name":"tokenWeight0","type":"uint32"},{"internalType":"uint32","name":"tokenWeight1","type":"uint32"},{"internalType":"uint32","name":"swapFee","type":"uint32"},{"internalType":"uint32","name":"amp","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pair","type":"address"},{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"}],"name":"getReserves","outputs":[{"internalType":"uint256","name":"reserveA","type":"uint256"},{"internalType":"uint256","name":"reserveB","type":"uint256"},{"internalType":"uint256","name":"vReserveA","type":"uint256"},{"internalType":"uint256","name":"vReserveB","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"totalLiquidity","type":"uint256"},{"internalType":"uint256","name":"reserve0","type":"uint256"},{"internalType":"uint256","name":"reserve1","type":"uint256"},{"internalType":"uint32","name":"tokenWeight0","type":"uint32"},{"internalType":"uint32","name":"tokenWeight1","type":"uint32"},{"internalType":"uint112","name":"collectedFee0","type":"uint112"},{"internalType":"uint112","name":"collectedFee1","type":"uint112"}],"name":"mintLiquidityFee","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"reserveA","type":"uint256"},{"internalType":"uint256","name":"reserveB","type":"uint256"}],"name":"quote","outputs":[{"internalType":"uint256","name":"amountB","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"}],"name":"sortTokens","outputs":[{"internalType":"address","name":"token0","type":"address"},{"internalType":"address","name":"token1","type":"address"}],"stateMutability":"pure","type":"function"}],"devdoc":{"kind":"dev","methods":{"getAmountIn(uint256,uint256,uint256,uint32,uint32,uint32)":{"params":{"amountOut":"target reserve amount    contains the following inputs:  reserveIn       source reserve balance  reserveOut      target reserve balance  tokenWeightIn   source reserve weight, represented in ppm (2-98)  tokenWeightOut  target reserve weight, represented in ppm (2-98)  swapFee         swap fee of the conversion"},"returns":{"amountIn":"amountIn"}},"getAmountOut(uint256,uint256,uint256,uint32,uint32,uint32)":{"params":{"amountIn":"source reserve amount    contains the following inputs:  reserveIn       source reserve balance  reserveOut      target reserve balance  tokenWeightIn   source reserve weight, represented in ppm (2-98)  tokenWeightOut  target reserve weight, represented in ppm (2-98)  swapFee         swap fee of the conversion"},"returns":{"amountOut":"amountOut"}},"mintLiquidityFee(uint256,uint256,uint256,uint32,uint32,uint112,uint112)":{"params":{"collectedFee0":"fees collected of token0","collectedFee1":"fees collected of token1","reserve0":"reserve of token0","reserve1":"reserve of token1","tokenWeight0":"weight of token0","tokenWeight1":"weight of token1","totalLiquidity":"total LP liquidity"},"returns":{"amount":"fee amount"}},"quote(uint256,uint256,uint256)":{"params":{"amountA":"token A amount","reserveA":"reserve of token A","reserveB":"reserve of token B"},"returns":{"amountB":"amount of token B required to consume all of amount A for LPs"}}},"version":1},"userdoc":{"kind":"user","methods":{"ensureConstantValue(uint256,uint256,uint256,uint256,uint32)":{"notice":"Ensure constant value reserve0^(tokenWeight0/50) * reserve1^((100 - tokenWeight0)/50) <= balance0Adjusted^(tokenWeight0/50) * balance1Adjusted^((100 - tokenWeight0)/50) or  1 <= (balance0Adjusted / reserve0 )^(tokenWeight0/50) * (balance1Adjusted/reserve1)^((100 - tokenWeight0)/50) or  (reserve0 / balance0Adjusted) ^ (tokenWeight0/50) <=  (balance1Adjusted / reserve1) ^ ((100 - tokenWeight0)/50)"},"getAmountIn(uint256,uint256,uint256,uint32,uint32,uint32)":{"notice":"given an output amount of an asset and pair reserves, returns a required input amount of the other asset Formula: return = reserveIn * ( (reserveOut / (reserveOut - amountOut)) ^ (tokenWeightOut / tokenWeightIn) - 1) * (10000/ (10000 - swapFee)"},"getAmountOut(uint256,uint256,uint256,uint32,uint32,uint32)":{"notice":"given an input amount of an asset and pair reserves, returns the maximum output amount of the other asset, Formula: return = reserveOut * (1 - (reserveIn * 10000 / (reserveIn * 10000 + amountIn * (10000 - swapFee))) ^ (tokenWeightIn / tokenWeightOut))"},"mintLiquidityFee(uint256,uint256,uint256,uint32,uint32,uint112,uint112)":{"notice":"Calculates the fee to be sent to the protocol"},"quote(uint256,uint256,uint256)":{"notice":"Given some amount of an asset and pair reserves, returns an equivalent amount of required amount of the other asset for LP"}},"version":1}},"settings":{"compilationTarget":{"contracts/WeightedFormula.sol":"WeightedFormula"},"evmVersion":"london","libraries":{},"metadata":{"bytecodeHash":"ipfs"},"optimizer":{"enabled":true,"runs":999999},"remappings":[]},"sources":{"contracts/WeightedFormula.sol":{"keccak256":"0xd0aed89f69cd6b87f946e46af1f63850c90ea68e4abf3d55fd26a8ad80aa23ee","license":"MIT","urls":["bzz-raw://fd9a1d6ac849c4713e22ec145c7a777c521e4e905f5b0a6327bbda92315e9331","dweb:/ipfs/QmbhEuFXU1PSjHAn6CPqSBTTXb7VMWvX4drToDM8qbyjKt"]},"contracts/interfaces/IWeightedFormula.sol":{"keccak256":"0x46b3fea6c9336aa68613bc4f11a29ea0c99c34fc3892e441020af40f816bf745","license":"SEE LICENSE IN LICENSE","urls":["bzz-raw://d115015a552ef8c8ed4e9ff0c1f122ea491bbe8045dcc82f526f6aae28715a7d","dweb:/ipfs/QmQEvDYtH29mEujTyoLiwJaxaomANGDkWn5hY9QXBX6CxP"]},"contracts/interfaces/IWeightedPair.sol":{"keccak256":"0x43befb5de6d96c0f5925d8c1022fe2ddde527c9ebfe750253aa5a39f22ed3dc1","license":"MIT","urls":["bzz-raw://e9c1f91e43cdf88c302dd91a3395cd2129e57a05d13b502cca09fd22969e9edd","dweb:/ipfs/Qmc3umK3xN3krA6vok8iFR2p9qPULSM2DsyK2omVFKx1d3"]},"contracts/interfaces/IWeightedPairERC20.sol":{"keccak256":"0x53daef3db362cbb97ab8644526216ad099687b1c2f0b21d87984eec6fee77c4a","license":"MIT","urls":["bzz-raw://fc923e96b9dd382127b418f7817d25703efa96e5749713ed64d86d4eb4dbda0b","dweb:/ipfs/QmQQ5cZwYVwHcN2YnBtPwFTeZzFtKYm4n9A1zJhr92wVyK"]},"contracts/interfaces/IWeightedPairFactory.sol":{"keccak256":"0x062d557699bdb0692826c54466066d932c46fea0a82b9abd8061abee69b674bf","license":"MIT","urls":["bzz-raw://229f93861a42feb39bdc17a3c91b186990b7b851507425aadb339cb1b4175718","dweb:/ipfs/QmPzhDmCgPh8EGgTL7pdcUfUQ5qcDNwiviw6w99SUWdVDv"]}},"version":1}